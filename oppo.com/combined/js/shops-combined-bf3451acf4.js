$(document).ready(function(){$(".footer-info .follow > a").hover(function(){$(this).find("img")&&$(this).find("img").show()},function(){$(this).find("img")&&$(this).find("img").hide()})}),$(document).ready(function(){var e=$(".banner .owl-carousel"),n=$(".banner-sub .owl-carousel"),o=$(".main-header .bottom-area .more-btn"),s=$(".main-header .bottom-area .user-btn"),a=$(".main-header .upper-area .lang-area .global"),t=a.next(),i=$("body").css("width");e.owlCarousel({nav:!0,items:1,loop:!0,navSpeed:800,autoplaySpeed:800,autoplay:!0,center:!0,autoplayTimeout:5e3,autoplayHoverPause:!0}),n.owlCarousel({nav:!1,responsiveClass:!0,mouseDrag:!1,touchDrag:!1,responsive:{0:{items:1,margin:5},750:{items:3,margin:5}}}),a.click(function(){$(this).find("a").addClass("active"),t.toggle()}),o.click(function(){s.parent().find(".user-menu").hide(),$(this).parent().find(".main-menu").toggle(),$(this).toggleClass("more-btn-active").find(".line").toggle()}),s.click(function(){o.attr("class").indexOf("more-btn-active")>=0&&(o.parent().find(".main-menu").toggle(),o.toggleClass("more-btn-active").find(".line").toggle()),o.parent().find(".main-menu").hide(),$(this).parent().find(".user-menu").toggle()}),$(".lang-area .menu-lang").css("width",i),$(".banner .owl-item").css("width",i),$(window).resize(function(){var e=$("body").css("width");$(".lang-area .menu-lang").css("width",e),$(".banner .owl-item").css("width",e)});var r=$(".navi-scroll a"),c=$(".navi-scroll .scroll-top-btn");r.each(function(){$(this).hover(function(){$(this).find("span").show()},function(){$(this).find("span").hide()})}),c.click(function(){$("body").animate({scrollTop:0},200)}),$(window).scroll(function(){$(this).scrollTop()>200?$(".navi-scroll").fadeIn():$(".navi-scroll").fadeOut(),"none"!=t.css("display")&&t.hide()}),$(document).click(function(){})}),$(document).ready(function(){function e(e,n){for(var o="",s=15*(e-1),a=1,t=s,i=s+15;t<i;t++){var r=n.shops[t]?n.shops[t].shopName:null,c=n.shops[t]?n.shops[t].shopType:null,l=n.shops[t]?n.shops[t].shopAddress:null,d=n.shops[t]?n.shops[t].shopTel:null;r&&c&&l&&d&&(o+='<li class="store-location"><span class="marker">'+a+'</span><div class="store-location-info"><div class="store-location-info-name"><p><strong>'+r+'</strong></p><p><a class="view-details" href="javascript:;">查看详情</a></p></div><div class="store-location-info-type"><p>'+c+'</p></div><div class="store-location-info-address"><p>'+l+'</p></div><div class="store-location-info-tel"><p>'+d+"</p></div></div></li>"),a++}""!=o?($(".location-address .store-list")[0].innerHTML=o,$(".location-address .pagination li").eq(e).addClass("active").siblings().removeClass("active")):alert("已到最后一页！")}function n(e,n){var o=e+" · 体验店 ("+n+")";$(".location-address .title")[0].innerHTML=o}function o(e){var n=new BMap.Map("baiduMap");n.centerAndZoom(e,11),n.addControl(new BMap.ScaleControl),n.addControl(new BMap.NavigationControl),n.enableScrollWheelZoom(!0),new BMap.LocalSearch(n,{renderOptions:{map:n}}).search("OPPO体验店"),console.log("百度地图显示城市："+e)}function s(){var e=new BMap.Map("baiduMap");e.centerAndZoom("北京市",11),e.addControl(new BMap.ScaleControl),e.addControl(new BMap.NavigationControl),e.enableScrollWheelZoom(!0)}function a(e){e="请选择"==e?"":e,$(".hero .input-item input").attr("value",e)}function t(e,n){for(var o="",s="",a=1,t=n+1;a<t;a++)o+='<li><a href="javascript:;">'+a+"</a></li>";s='<li><a class="disabled prev" href="javascript:;">«</a></li>'+o+'<li><a class="disabled next" href="javascript:;">»</a></li>',$(e).html(s),console.log("pageHtml:"+s)}var i=new BMap.Geolocation,r=new BMap.Geocoder,c=$(".location-address .pagination"),l=0;window.address={},address.currentprovince="北京市",address.currentcity="北京市",address.selectedprovince="北京市",address.selectedcity="北京市",$("#select1").change(function(){console.log("address.selectedprovince:"+address.selectedprovince),$.getJSON("/shops/json/oppoShops1.json",function(e){console.log(e);for(var n=$.grep(e,function(e,n){return e.province==address.selectedprovince}),o="",s=n[0].city.length,a=0;a<s;a++)o+=0==a?'<option selected="selected">'+n[0].city[a]+"</option>":"<option>"+n[0].city[a]+"</option>";$("#select2").html(o),console.dir(n),console.dir("city:"+n[0].city+"province:"+n[0].province),console.log("cityLength:"+s),console.log("html:"+o)}),address.selectedprovince=$(this).val(),address.selectedcity=$("#select2").val(),a(address.selectedcity),"请选择"==address.selectedprovince?s():o(address.selectedprovince);var n,i,r=$.getJSON("/shops/json/oppoShopsDetails.json",function(e){});window.data=r,console.log("#select1-change-data:"+r.responseJSON),n=(n=$.grep(r.responseJSON,function(e){return i="请选择"==address.selectedcity?address.currentcity:address.selectedcity,e.cityName==i}))[0],console.log("#select1-change-jsonData:"+n),l=n.shops.length,l=l%15==0?parseInt(l/15):parseInt(l/15)+1,t(c,l),e(1,n[0])}),$("#select2").change(function(){address.selectedcity=$(this).val(),a(address.selectedcity),o($(this).val()),$(".location-address .pagination li:first-child").trigger("click")}),i.getCurrentPosition(function(e){if(this.getStatus()==BMAP_STATUS_SUCCESS){var n=e.point;r.getLocation(n,function(e){var n=e.addressComponents;address.currentprovince=n.province,address.currentcity=n.city,$("#select1").val(address.currentprovince),$("#select1").trigger("change"),"请选择"==address.currentcity?s():o(address.currentcity),console.log("province:"+address.currentprovince+"city:"+address.currentcity)})}else switch(this.getStatus()){case 2:alert("位置结果未知 获取位置失败.");break;case 3:alert("导航结果未知 获取位置失败..");break;case 4:alert("非法密钥 获取位置失败.");break;case 5:alert("对不起,非法请求位置 获取位置失败.");break;case 6:alert("对不起,当前 没有权限 获取位置失败.");break;case 7:alert("对不起,服务不可用 获取位置失败.");break;case 8:alert("对不起,请求超时 获取位置失败.")}},{enableHighAccuracy:!0}),$.getJSON("/shops/json/oppoShops1.json",function(e){$.grep(e,function(e,n){return e.province==address.currentprovince})}),$(".location-address .pagination li").each(function(o,s){$(s).click(function(){var s=o,a={};$.getJSON("/shops/json/oppoShopsDetails.json",function(o){a=$.grep(o,function(e,n){return e.cityName==address.selectedcity}),a=a[0],e(s,a),n(a.cityName,a.shops.length)})})}),$(".location-address .pagination li").eq(1).trigger("click")});